<!DOCTYPE HTML>
<html>
	<head>
		<title>CSSplus</title>
		<script type="text/javascript" src="js/jquery-1.6.4.js"></script>
		<script type="text/javascript" src='js/jquery.utilities.js'></script>
		<script type="text/javascript" src='js/createCSSwithVars.js'></script>
		<script type="text/javascript" src="js/swfobject.js"></script>
		<script type="text/javascript" src="js/downloadify.min.js"></script>
		<link href="css/formCss.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<section>
			<header>Develop faster CSS with CSSplus</header>
			<form>
				<legend>Form where retrieve the code to compile CSS</legend>
				<fieldset>
					<div>
						<label>File name:</label>
						<input type="text" name="filename" id="filename_id" value="default"/>
					</div>
					<div>
						<label>CSSplus code:</label>
						<textarea name="css_content" id="css_content_id">
.block_display
{
  display:block;
}
.none_display
{
  display:none;
}
.yellow_background
{
  background-color: #ff0;
}
.350px_width
{
  width:350px;
}
.350px_height
{
  height:350px;
}
.red_color
{
  color:#f00;
}
.solid_black_border_top
{
  border-top:#000 1px solid;
}
.solid_black_border_bottom
{
  border-bottom:#000 1px solid;
}
.prueba2
{
  [block_display]
  [yellow_background]
  [350px_width]
  [350px_height]
  [red_color]
  [solid_black_border_top]
}
.prueba3
{
  [.prueba2]
  [solid_black_border_bottom]
}
.prueba4
{
  font-size:20px;
  [.prueba3]
}

						</textarea>
					</div>
					<div id="compile">
						You must have Flash 10 installed to make this work.
					</div>
				</fieldset>
			</form>
		</section>
		 <script type="text/javascript">
	    	Downloadify.create('compile',{
				filename: function(){
					var sValue = document.getElementById('filename_id').value.replace(".css", "");
					if(sValue.length === 0)
					{
						sValue = "default";
					}
					return sValue + ".css";
				},
				data: function(){
					var oCssWithVars = new CssWithVars();
					oCssWithVars.onCreate = function(sText){};
					return oCssWithVars.create(document.getElementById("css_content_id").value.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,""));
				},
				onComplete: function(){ alert('Your File Has Been Saved!'); },
				onCancel: function(){ alert('You have cancelled the saving of this file.'); },
				onError: function(){ alert('You must put something in the File Contents or there will be nothing to save!'); },
				swf: 'media/downloadify.swf',
				downloadImage: 'images/download.png',
				width: 100,
				height: 30,
				transparent: true,
				append: false
			});
		</script>
	</body>
</html>